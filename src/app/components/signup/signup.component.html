<div class="auth-wrapper container">
    <form
        class="form-signin"
        [formGroup]="signupForm"
        (ngSubmit)="registerUser()"
    >
        <h3 class="h3 mb-3 font-weight-normal text-center">
            Create your account
        </h3>

        <div class="form-group">
            <label>Name</label>
            <input
                type="text"
                class="form-control"
                formControlName="name"
                placeholder="Enter name"
                required
            />
            <div
                *ngIf="
                    signupForm.controls['name'].invalid &&
                    (signupForm.controls['name'].dirty ||
                        signupForm.controls['name'].touched)
                "
                class="alert alert-danger"
            >
                <div *ngIf="signupForm.controls['name'].errors.required">
                    Name is required.
                </div>
            </div>
        </div>
        <div class="form-group">
            <label>Username</label>
            <input
                type="username"
                class="form-control"
                formControlName="username"
                placeholder="Enter username"
                required
            />
        </div>
        <div
            *ngIf="
                signupForm.controls['username'].invalid &&
                (signupForm.controls['username'].dirty ||
                    signupForm.controls['username'].touched)
            "
            class="alert alert-danger"
        >
            <div *ngIf="signupForm.controls['username'].errors.required">
                Username is required.
            </div>
        </div>

        <div class="form-group">
            <label>Email</label>
            <input
                type="email"
                class="form-control"
                formControlName="email"
                placeholder="Enter email"
                email
                required
            />
        </div>
        <div
            *ngIf="
                signupForm.controls['email'].invalid &&
                signupForm.controls['email'].touched
            "
            class="alert alert-danger"
        >
            <div *ngIf="signupForm.controls['email'].errors.required">
                Email is required.
            </div>
            <div
                *ngIf="
                    !signupForm.controls['email'].errors.required &&
                    signupForm.controls['email'].touched
                "
            >
                Invalid email.
            </div>
        </div>

        <div class="form-group">
            <label>Password</label>
            <input
                type="password"
                class="form-control"
                formControlName="password"
                placeholder="Password"
                required
            />
        </div>
        <div
            *ngIf="
                signupForm.controls['password'].invalid &&
                (signupForm.controls['password'].dirty ||
                    signupForm.controls['password'].touched)
            "
            class="alert alert-danger"
        >
            <div *ngIf="signupForm.controls['password'].errors.required">
                Password is required.
            </div>
        </div>

        <div class="form-group">
            <label>Profile picture</label>
            <input
                type="file"
                class="form-control-file"
                id="profile_picture"
                required
            />
        </div>

        <ul *ngIf="this.errors" class="alert alert-danger" role="alert">
            <li *ngFor="let error of this.errors">
                {{ error }}
            </li>
        </ul>

        <button
            [disabled]="signupForm.pristine || signupForm.invalid"
            type="submit"
            class="btn btn-block btn-primary"
        >
            Register
        </button>
    </form>
</div>
